{
  "name": "e2e-tests",
  "private": true,
  "devDependencies": {
    "cypress": "^13.0.0",
    "mochawesome": "^7.1.3",
    "mochawesome-merge": "^4.3.0",
    "mochawesome-report-generator": "^6.2.0",
    "start-server-and-test": "^2.0.3"
  },
  "scripts": {
    "e2e": "start-server-and-test \"npm --prefix ../frontend run dev -- --host 127.0.0.1 --port 5173\" http://127.0.0.1:5173 \"cypress run\"",
    "report:merge": "mkdir -p reports && (ls reports/mochawesome*.json >/dev/null 2>&1 && mochawesome-merge reports/mochawesome*.json > reports/merged.json || echo '{\"stats\":{},\"results\":[]}' > reports/merged.json)",
    "report:html": "npx marge reports/merged.json -f index -o reports/html",
    "test": "npm run e2e || true && npm run report:merge && npm run report:html"
  }
}